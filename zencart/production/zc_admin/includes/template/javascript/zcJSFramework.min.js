/**
 * @package admin
 * @copyright Copyright 2003-2016 Zen Cart Development Team
 * @license http://www.zen-cart.com/license/2_0.txt GNU Public License V2.0
 * @version GIT: $Id: Author: Ian Wilson  Modified in v1.6.0 $
 */
"undefined"!=typeof zcJS&&zcJS||(window.zcJS={name:"zcJS",version:"0.1.0.0"}),zcJS.ajax=function(e){e.url=e.url.replace(/&amp;/g,"&");var t=$.Deferred(function(t){var n={cache:!1,type:"POST",traditional:!0,dataType:"json",data:$.extend(!0,{securityToken:securityToken},e.data)},a=$.extend(!0,{},n,e);t.done(a.success),t.fail(a.error),t.done(a.complete);var r=$.extend(!0,{},a,{success:function(e,n,a){t.resolve(e,n,a)},error:function(e,n,a){console.log(e),t.reject(e,n,a)}});$.ajax(r)}).fail(function(e,t,n){var a=e.getResponseHeader("status");switch(a){case"403 Forbidden":var r=JSON.parse(e.responseText),s=r.errorType;switch(s){case"ADMIN_BLOCK_WARNING":break;case"AUTH_ERROR":break;case"SECURITY_TOKEN":break;case"CUSTOM_ALERT_ERROR":alert(r.errorMessage);break;default:alert("An Internal Error of type "+s+" was received while processing an ajax call. The action you requested could not be completed.")}break;default:alert("An unknown response was received while processing an ajax call. The action you requested could not be completed.")}}),n=t.promise();return n},zcJS.timer=function(e){var t,n={interval:1e4,startEvent:null,intervalEvent:null,stopEvent:null},a=$.extend(!0,{},n,e);new Boolean(!1);this.Start=function(){this.enabled=new Boolean(!0),t=this,t.settings=a,t.enabled&&(t.timerId=setInterval(function(){t.settings.intervalEvent&&t.settings.intervalEvent(t)},t.settings.interval),t.settings.startEvent&&t.settings.startEvent(t))},this.Stop=function(){t.enabled=new Boolean(!1),clearInterval(t.timerId),t.settings.stopEvent&&t.settings.stopEvent(t)}};