/**
 * @package admin
 * @copyright Copyright 2003-2016 Zen Cart Development Team
 * @license http://www.zen-cart.com/license/2_0.txt GNU Public License V2.0
 * @version GIT: $Id: Author: Ian Wilson  Modified in v1.6.0 $
 */
"undefined"!=typeof zcJS&&zcJS||(window.zcJS={name:"zcJS",version:"0.1.0.0"}),zcJS.ajax=function(e){e.url=e.url.replace("&amp;","&");var t=$.Deferred(function(t){var n=zcJS.securityToken,a={cache:!1,type:"POST",traditional:!0,dataType:"json",timeout:5e3,data:$.extend(!0,{securityToken:n},e.data)},s=$.extend(!0,{},a,e);t.done(s.success),t.fail(s.error),t.done(s.complete);var r=$.extend(!0,{},s,{success:function(e,n,a){t.resolve(e,n,a)},error:function(e,n,a){console.log(e),t.reject(e,n,a)},complete:t.resolve});$.ajax(r)}).fail(function(e,t,n){var a=e.getResponseHeader("status"),s=e.responseText,r=e.getResponseHeader("content-type");switch(a){case"403 Forbidden":var o=JSON.parse(e.responseText),i=o.errorType;switch(i){case"ADMIN_BLOCK_WARNING":break;case"AUTH_ERROR":break;case"SECURITY_TOKEN":break;default:alert("An Internal Error of type "+i+" was received while processing an ajax call. The action you requested could not be completed.")}break;default:200===e.status&&r.toLowerCase().indexOf("text/html")>=0&&(document.open(),document.write(s),document.close())}}),n=t.promise();return n},zcJS.timer=function(e){var t,n={interval:1e4,startEvent:null,intervalEvent:null,stopEvent:null},a=$.extend(!0,{},n,e);new Boolean(!1);this.Start=function(){this.enabled=new Boolean(!0),t=this,t.settings=a,t.enabled&&(t.timerId=setInterval(function(){t.settings.intervalEvent&&t.settings.intervalEvent(t)},t.settings.interval),t.settings.startEvent&&t.settings.startEvent(t))},this.Stop=function(){t.enabled=new Boolean(!1),clearInterval(t.timerId),t.settings.stopEvent&&t.settings.stopEvent(t)}};